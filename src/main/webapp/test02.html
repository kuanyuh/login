<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>轮播图</title>
    <script src="js/index.js"></script>
    <style>


    </style>
    <link rel="stylesheet" type="text/css" href="css/lunbotu.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">
</head>
<body>
<div class="container">
    <div class="list" style=" left:-600px;">
        <img src="images/1.jpg">
        <img src="images/2.jpg">
        <img src="images/3.jpg">
        <img src="images/1.jpg">
        <img src="img/4.jpg">
        <img src="img/5.jpg">
        <img src="img/1.jpg">
    </div>
    <ul class="dots">
        <li index=1 class="active dot"></li>
        <li index=2 class="dot"></li>
        <li index=3 class="dot"></li>
        <li index=4 class="dot"></li>
        <li index=5 class="dot"></li>
    </ul>
    <div class="pre"><</div>
    <div class="next">></div>
</div>
<!-- logo -->
<div class="logo">
    <img src="images/logo.png" /></div>
<!-- 表单 -->

<form class="form" method="post" action="LoginServlet" onclick="clearText()">
    <!-- 头部 -->
    <div class="tabHead">
		<span id="pwdLoginSpan" class="active" style="width: 50%;border-bottom:1px solid #000;" onclick="useridTab()">
			<a id="userNameLogin_a" onclick="useridTab()">账号登录</a>
		</span>
        <span id="emailLoginSpan" class="active" style="width: 50%;" onclick="emailTab()">
			<a id="dynamicLogin_a" onclick="emailTab()">邮箱登录</a>
		</span>
    </div>

    <div class="m-account" id="passwordVerify">
        <!-- id -->
        <div class="item">
			<span class="prex-icon">
				<img src="images/user1.png" class="login-icon"></span>
            <input id="userid" name="userid" type="text" placeholder="请输入学号/工号" title="请输入学号/工号" value=""></div>
        <div id="err_id" ></div>

        <!-- passwd -->
        <div class="item">
            <img src="images/pass1.png" class="login-icon">
            <input id="passwd" name="passwd" type="password" placeholder="请输入密码" title="请输入密码"></div>
        <div id="err_pw"></div>

        <!-- login button -->
        <div>
            <button type="button" class="login-btn" onclick="dologin()">登录</button></div>


        <div class="help">
            <a href="reset.html" class="fo-passwd">忘记密码</a>
            <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <a href="register.html" class="fo-passwd">注册账号</a></div>
    </div>

    <div class="m-account" id="emailVerify" style="display: none">
        <!-- email -->
        <div class="item">
			<span class="prex-icon">
				<img src="images/user1.png" class="login-icon"></span>
            <input id="email" name="email" type="text" placeholder="请输入邮箱号" title="请输入邮箱" value=""></div>
        <div id="err_email" ></div>

        <!-- verify -->
        <div class="item">
            <img src="images/captcha1.png" class="login-icon">
            <input id="verify" name="verify" type="text" placeholder="请输入验证码" title="请输入验证码">
            <a class="get-code" onclick="requestVerification()">获取验证码</a></div>
        <div id="err_verify"></div>

        <!-- login button -->
        <div>
            <button type="button" class="login-btn" onclick="dologin()">登录</button></div>


        <div class="help">
            <a href="reset.html" class="fo-passwd">忘记密码</a>
            <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <a href="register.html" class="fo-passwd">注册账号</a></div>
    </div>
</form>
<script type="text/javascript">
    var index = 1, timer;

    function init() {
        eventBind();
        autoPlay();
    }

    init();

    function autoPlay() {
        timer = setInterval(function () {
            animation(-600);
            dotIndex(true);
        }, 1000)
    }

    function stopAutoPlay() {
        clearInterval(timer);
    }

    function dotIndex(add) {
        if (add) {
            index++;
        } else {
            index--;
        }
        if (index > 5) {
            index = 1;
        }
        if (index < 1) {
            index = 5;
        }
        dotActive();
    }

    function dotActive() {
        var dots = document.getElementsByClassName("dot");
        var len = dots.length;
        for (var i = 0; i < len; i++) {
            dots[i].className = "dot";
        }

        for (var i = 0; i < len; i++) {
            /*此处可以不用parseInt，当不用全等时*/
            if (index === parseInt(dots[i].getAttribute("index"))) {
                dots[i].className = "dot active";
            }
        }
    }

    function eventBind() {
        /*点的点击事件*/
        var dots = document.getElementsByClassName("dot");
        var len = dots.length;
        for (var i = 0; i < len; i++) {
            (function (j) {
                dots[j].onclick = function (e) {
                    var ind = parseInt(dots[j].getAttribute("index"));
                    animation((index - ind) * (-600));/*显示点击的图片*/
                    index = ind;
                    dotActive();
                }
            })(i)
        }
        /*容器的hover事件*/
        var con = document.getElementsByClassName("container")[0];
        /*鼠标移动到容器上时，停止制动滑动，离开时继续滚动*/
        con.onmouseover = function (e) {
            stopAutoPlay();
        }
        con.onmouseout = function (e) {
            autoPlay();
        }
        /*箭头事件的绑定*/
        var pre = document.getElementsByClassName("pre")[0];
        var next = document.getElementsByClassName("next")[0];
        pre.onclick = function (e) {
            dotIndex(false);
            animation(600);
        }
        next.onclick = function (e) {
            dotIndex(true);
            animation(-600);
        }
    }

    function animation(offset) {
        var lists = document.getElementsByClassName("list")[0];
        var left = parseInt(lists.style.left.slice(0, lists.style.left.indexOf("p"))) + offset;
        if (left < -3000) {
            lists.style.left = "-600px";
        } else if (left > -600) {
            lists.style.left = "-3000px";
        } else {
            lists.style.left = left + "px";
        }
    }

</script>
</body>
</html>
